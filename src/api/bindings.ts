/* eslint-disable */
// This file was generated by [tauri-specta](https://github.com/oscartbeaumont/tauri-specta). Do not edit this file manually.

declare global {
    interface Window {
        __TAURI_INVOKE__<T>(cmd: string, args?: Record<string, unknown>): Promise<T>;
    }
}

// Function avoids 'window not defined' in SSR
const invoke = () => window.__TAURI_INVOKE__;

/**
 * 查询节点数量
 */
export function dbCountEndpoints() {
    return invoke()<number>("db_count_endpoints")
}

/**
 * 查询订阅数量
 */
export function dbCountSubscriptions() {
    return invoke()<number>("db_count_subscriptions")
}

/**
 * 获取设置
 */
export function dbGetSettings() {
    return invoke()<Settings>("db_get_settings")
}

/**
 * 插入订阅
 */
export function dbInsertSubscription(doc: Subscription) {
    return invoke()<null>("db_insert_subscription", { doc })
}

/**
 * 查询节点
 */
export function dbQueryEndpoints() {
    return invoke()<Endpoint[]>("db_query_endpoints")
}

/**
 * 查询订阅
 */
export function dbQuerySubscriptions() {
    return invoke()<Subscription[]>("db_query_subscriptions")
}

/**
 * 删除订阅
 */
export function dbRemoveSubscription(id: number) {
    return invoke()<null>("db_remove_subscription", { id })
}

/**
 * 保存设置
 */
export function dbSetSettings(settings: Settings) {
    return invoke()<null>("db_set_settings", { settings })
}

/**
 * 更新订阅
 */
export function dbUpdateSubscription(doc: Subscription) {
    return invoke()<null>("db_update_subscription", { doc })
}

/**
 * 更新单个订阅
 */
export function updateSubscription(subId: number) {
    return invoke()<null>("update_subscription", { subId })
}

/**
 * 更新全部订阅
 */
export function updateSubscriptions() {
    return invoke()<null>("update_subscriptions")
}

/**
 * 订阅分组
 */
export type Subscription = { id: number; name: string; url: string; disabled: boolean | null }
/**
 * 设置
 */
export type Settings = { socksPort: number; httpPort: number; allowLan: boolean; subUpdateInterval: number; epTestInterval: number; epTestConcurrency: number; epTestUrl: string; rule: string }
/**
 * 节点
 */
export type Endpoint = { id: number; subId: number; uri: string; name: string; host: string; port: number; latency: number | null; outbound: string }
